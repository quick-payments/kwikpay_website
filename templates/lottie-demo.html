<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lottie Animation Demo - Kwikpay</title>
    
    <!-- Bootstrap 5.3.7 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../css/style.css" rel="stylesheet" />
    <link href="../css/Only_logo.css" rel="stylesheet" />
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top py-2">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center gap-2" href="../index.html">
                <img src="../assets/logo_with_name.svg" alt="Kwikpay" height="28" />
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="../index.html">Back to Home</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section with Lottie -->
    <section class="py-6 mt-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-12 col-lg-6">
                    <h1 class="display-4 fw-bold mb-4">Lottie Animation Demo</h1>
                    <p class="lead mb-4">Explore the power of Lottie animations in your Kwikpay website. These animations are lightweight, scalable, and perfect for modern web experiences.</p>
                    <div class="d-flex gap-3">
                        <button class="btn btn-primary" onclick="playAllAnimations()">
                            <i class="bi bi-play-fill me-2"></i>Play All
                        </button>
                        <button class="btn btn-outline-primary" onclick="pauseAllAnimations()">
                            <i class="bi bi-pause-fill me-2"></i>Pause All
                        </button>
                    </div>
                </div>
                <div class="col-12 col-lg-6">
                    <div id="lottie-scene" class="hero-lottie lottie-container">
                        <div class="lottie-fallback">
                            <i class="bi bi-arrow-clockwise"></i>
                            Loading Scene Animation...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section with Lottie -->
    <section class="py-6 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center mb-5">
                    <h2 class="display-5 fw-bold">Interactive Animations</h2>
                    <p class="lead">Each animation can be controlled independently</p>
                </div>
            </div>
            
            <div class="row g-4">
                <div class="col-12 col-md-6">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center p-4">
                            <div id="lottie-showreel" class="feature-lottie lottie-container mb-3">
                                <div class="lottie-fallback">
                                    <i class="bi bi-phone"></i>
                                    Loading Mobile Animation...
                                </div>
                            </div>
                            <h5 class="card-title">Mobile Showreel</h5>
                            <p class="card-text">Interactive mobile interface animation that plays when visible.</p>
                            <div class="lottie-controls">
                                <button onclick="toggleShowreel()" class="btn btn-sm">
                                    <i class="bi bi-play-fill"></i> Play/Pause
                                </button>
                                <button onclick="restartShowreel()" class="btn btn-sm">
                                    <i class="bi bi-arrow-clockwise"></i> Restart
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-12 col-md-6">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center p-4">
                            <div id="lottie-scene-2" class="feature-lottie lottie-container mb-3">
                                <div class="lottie-fallback">
                                    <i class="bi bi-gear"></i>
                                    Loading Scene Animation...
                                </div>
                            </div>
                            <h5 class="card-title">Scene Animation</h5>
                            <p class="card-text">Continuous loop animation with manual controls.</p>
                            <div class="lottie-controls">
                                <button onclick="toggleScene()" class="btn btn-sm">
                                    <i class="bi bi-play-fill"></i> Play/Pause
                                </button>
                                <button onclick="restartScene()" class="btn btn-sm">
                                    <i class="bi bi-arrow-clockwise"></i> Restart
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Animation Library Comparison Section -->
    <section class="py-6">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center mb-5">
                    <h2 class="display-5 fw-bold">Animation Library Comparison</h2>
                    <p class="lead">Compare different animation libraries side by side</p>
                </div>
            </div>
            
            <div class="row g-4">
                <!-- CSS Animations -->
                <div class="col-12 col-lg-6">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0"><i class="bi bi-palette me-2"></i>CSS Animations</h5>
                        </div>
                        <div class="card-body text-center p-4">
                            <div class="animation-demo-container mb-3">
                                <div class="css-animation-demo">
                                    <div class="css-animation-element">
                                        <i class="bi bi-star-fill"></i>
                                    </div>
                                </div>
                            </div>
                            <h6>CSS Keyframes Animation</h6>
                            <p class="text-muted small">Lightweight, built-in browser animations</p>
                            <div class="d-flex gap-2 justify-content-center">
                                <button class="btn btn-sm btn-outline-primary" onclick="toggleCSSAnimation()">
                                    <i class="bi bi-play-fill"></i> Toggle
                                </button>
                                <button class="btn btn-sm btn-outline-secondary" onclick="resetCSSAnimation()">
                                    <i class="bi bi-arrow-clockwise"></i> Reset
                                </button>
                            </div>
                            <div class="mt-3">
                                <span class="badge bg-success">Lightweight</span>
                                <span class="badge bg-info">Built-in</span>
                                <span class="badge bg-warning">Limited Control</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- GreenSock (GSAP) -->
                <div class="col-12 col-lg-6">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-header bg-success text-white">
                            <h5 class="mb-0"><i class="bi bi-lightning me-2"></i>GreenSock (GSAP)</h5>
                        </div>
                        <div class="card-body text-center p-4">
                            <div class="animation-demo-container mb-3">
                                <div class="gsap-animation-demo">
                                    <div class="gsap-animation-element">
                                        <i class="bi bi-heart-fill"></i>
                                    </div>
                                </div>
                            </div>
                            <h6>GSAP Timeline Animation</h6>
                            <p class="text-muted small">Professional animation library with advanced features</p>
                            <div class="d-flex gap-2 justify-content-center">
                                <button class="btn btn-sm btn-outline-success" onclick="toggleGSAPAnimation()">
                                    <i class="bi bi-play-fill"></i> Toggle
                                </button>
                                <button class="btn btn-sm btn-outline-secondary" onclick="resetGSAPAnimation()">
                                    <i class="bi bi-arrow-clockwise"></i> Reset
                                </button>
                            </div>
                            <div class="mt-3">
                                <span class="badge bg-success">Professional</span>
                                <span class="badge bg-info">Advanced</span>
                                <span class="badge bg-warning">Larger Size</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Anime.js -->
                <div class="col-12 col-lg-6">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-header bg-warning text-dark">
                            <h5 class="mb-0"><i class="bi bi-gear me-2"></i>Anime.js</h5>
                        </div>
                        <div class="card-body text-center p-4">
                            <div class="animation-demo-container mb-3">
                                <div class="anime-animation-demo">
                                    <div class="anime-animation-element">
                                        <i class="bi bi-circle-fill"></i>
                                    </div>
                                </div>
                            </div>
                            <h6>Anime.js Elastic Animation</h6>
                            <p class="text-muted small">Lightweight JavaScript animations with elastic easing</p>
                            <div class="d-flex gap-2 justify-content-center">
                                <button class="btn btn-sm btn-outline-warning" onclick="toggleAnimeAnimation()">
                                    <i class="bi bi-play-fill"></i> Toggle
                                </button>
                                <button class="btn btn-sm btn-outline-secondary" onclick="resetAnimeAnimation()">
                                    <i class="bi bi-arrow-clockwise"></i> Reset
                                </button>
                            </div>
                            <div class="mt-3">
                                <span class="badge bg-success">Lightweight</span>
                                <span class="badge bg-info">Elastic Easing</span>
                                <span class="badge bg-primary">Good Control</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Three.js -->
                <div class="col-12 col-lg-6">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-header bg-danger text-white">
                            <h5 class="mb-0"><i class="bi bi-box me-2"></i>Three.js</h5>
                        </div>
                        <div class="card-body text-center p-4">
                            <div class="animation-demo-container mb-3">
                                <div id="threejs-container" class="threejs-animation-demo">
                                    <div class="threejs-fallback">
                                        <i class="bi bi-cube"></i>
                                        <span>3D Animation</span>
                                    </div>
                                </div>
                            </div>
                            <h6>Three.js 3D Animation</h6>
                            <p class="text-muted small">3D graphics and animations with WebGL</p>
                            <div class="d-flex gap-2 justify-content-center">
                                <button class="btn btn-sm btn-outline-danger" onclick="toggleThreeJSAnimation()">
                                    <i class="bi bi-play-fill"></i> Toggle
                                </button>
                                <button class="btn btn-sm btn-outline-secondary" onclick="resetThreeJSAnimation()">
                                    <i class="bi bi-arrow-clockwise"></i> Reset
                                </button>
                            </div>
                            <div class="mt-3">
                                <span class="badge bg-danger">3D Graphics</span>
                                <span class="badge bg-info">WebGL</span>
                                <span class="badge bg-warning">Complex</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Canvas Animations -->
                <div class="col-12 col-lg-6">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-header bg-info text-white">
                            <h5 class="mb-0"><i class="bi bi-brush me-2"></i>Canvas Animations</h5>
                        </div>
                        <div class="card-body text-center p-4">
                            <div class="animation-demo-container mb-3">
                                <canvas id="canvas-animation" class="canvas-animation-demo"></canvas>
                            </div>
                            <h6>HTML5 Canvas Animation</h6>
                            <p class="text-muted small">Custom animations using HTML5 Canvas API</p>
                            <div class="d-flex gap-2 justify-content-center">
                                <button class="btn btn-sm btn-outline-info" onclick="toggleCanvasAnimation()">
                                    <i class="bi bi-play-fill"></i> Toggle
                                </button>
                                <button class="btn btn-sm btn-outline-secondary" onclick="resetCanvasAnimation()">
                                    <i class="bi bi-arrow-clockwise"></i> Reset
                                </button>
                            </div>
                            <div class="mt-3">
                                <span class="badge bg-info">Custom</span>
                                <span class="badge bg-primary">Full Control</span>
                                <span class="badge bg-warning">Manual Coding</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Lottie Comparison -->
                <div class="col-12 col-lg-6">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-header bg-purple text-white">
                            <h5 class="mb-0"><i class="bi bi-film me-2"></i>Lottie Animations</h5>
                        </div>
                        <div class="card-body text-center p-4">
                            <div class="animation-demo-container mb-3">
                                <div id="lottie-comparison" class="lottie-comparison-demo">
                                    <div class="lottie-fallback">
                                        <i class="bi bi-arrow-clockwise"></i>
                                        Loading Lottie Animation...
                                    </div>
                                </div>
                            </div>
                            <h6>Lottie JSON Animation</h6>
                            <p class="text-muted small">After Effects animations exported as JSON</p>
                            <div class="d-flex gap-2 justify-content-center">
                                <button class="btn btn-sm btn-outline-purple" onclick="toggleLottieComparison()">
                                    <i class="bi bi-play-fill"></i> Toggle
                                </button>
                                <button class="btn btn-sm btn-outline-secondary" onclick="resetLottieComparison()">
                                    <i class="bi bi-arrow-clockwise"></i> Reset
                                </button>
                            </div>
                            <div class="mt-3">
                                <span class="badge bg-purple">After Effects</span>
                                <span class="badge bg-success">Designer Friendly</span>
                                <span class="badge bg-info">JSON Based</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Performance Comparison Section -->
    <section class="py-6 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center mb-5">
                    <h2 class="display-5 fw-bold">Performance Comparison</h2>
                    <p class="lead">See how each library performs</p>
                </div>
            </div>
            
            <div class="row g-4">
                <div class="col-12">
                    <div class="card border-0 shadow-sm">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>Library</th>
                                            <th>File Size</th>
                                            <th>Performance</th>
                                            <th>Ease of Use</th>
                                            <th>Features</th>
                                            <th>Best For</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>CSS Animations</strong></td>
                                            <td><span class="badge bg-success">0KB</span></td>
                                            <td><span class="badge bg-success">Excellent</span></td>
                                            <td><span class="badge bg-success">Easy</span></td>
                                            <td><span class="badge bg-warning">Basic</span></td>
                                            <td>Simple animations, hover effects</td>
                                        </tr>
                                        <tr>
                                            <td><strong>GreenSock (GSAP)</strong></td>
                                            <td><span class="badge bg-warning">~40KB</span></td>
                                            <td><span class="badge bg-success">Excellent</span></td>
                                            <td><span class="badge bg-info">Medium</span></td>
                                            <td><span class="badge bg-success">Advanced</span></td>
                                            <td>Complex animations, professional projects</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Anime.js</strong></td>
                                            <td><span class="badge bg-success">~15KB</span></td>
                                            <td><span class="badge bg-success">Good</span></td>
                                            <td><span class="badge bg-success">Easy</span></td>
                                            <td><span class="badge bg-info">Medium</span></td>
                                            <td>Lightweight animations, elastic effects</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Three.js</strong></td>
                                            <td><span class="badge bg-warning">~500KB</span></td>
                                            <td><span class="badge bg-info">Good</span></td>
                                            <td><span class="badge bg-warning">Complex</span></td>
                                            <td><span class="badge bg-success">Advanced</span></td>
                                            <td>3D graphics, immersive experiences</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Canvas</strong></td>
                                            <td><span class="badge bg-success">0KB</span></td>
                                            <td><span class="badge bg-success">Excellent</span></td>
                                            <td><span class="badge bg-warning">Complex</span></td>
                                            <td><span class="badge bg-success">Full Control</span></td>
                                            <td>Custom animations, games, visualizations</td>
                                        </tr>
                                        <tr>
                                            <td><strong>Lottie</strong></td>
                                            <td><span class="badge bg-info">~50KB + JSON</span></td>
                                            <td><span class="badge bg-success">Good</span></td>
                                            <td><span class="badge bg-success">Easy</span></td>
                                            <td><span class="badge bg-info">Medium</span></td>
                                            <td>Designer-created animations, brand consistency</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Code Examples Modal -->
    <div class="modal fade" id="codeModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Code Example</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <pre><code id="codeExample"></code></pre>
                </div>
            </div>
        </div>
    </div>

    <!-- Animation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="../js/script.js"></script>
    
    <script>
        // Global animation variables
        let cssAnimationActive = false;
        let gsapAnimationActive = false;
        let animeAnimationActive = false;
        let threeJSAnimationActive = false;
        let canvasAnimationActive = false;
        let lottieComparisonActive = false;
        
        // Three.js variables
        let threeScene, threeCamera, threeRenderer, threeCube;
        let canvasAnimation, canvasCtx;
        let lottieComparisonAnimation;

        // CSS Animation Functions
        function toggleCSSAnimation() {
            const element = document.querySelector('.css-animation-element');
            const container = document.querySelector('.css-animation-demo').parentElement;
            
            if (cssAnimationActive) {
                element.classList.remove('animate');
                container.classList.remove('playing');
                cssAnimationActive = false;
            } else {
                element.classList.add('animate');
                container.classList.add('playing');
                cssAnimationActive = true;
            }
        }

        function resetCSSAnimation() {
            const element = document.querySelector('.css-animation-element');
            const container = document.querySelector('.css-animation-demo').parentElement;
            element.classList.remove('animate');
            container.classList.remove('playing');
            cssAnimationActive = false;
        }

        // GSAP Animation Functions
        function toggleGSAPAnimation() {
            const element = document.querySelector('.gsap-animation-element');
            const container = document.querySelector('.gsap-animation-demo').parentElement;
            
            if (gsapAnimationActive) {
                gsap.killTweensOf(element);
                container.classList.remove('playing');
                gsapAnimationActive = false;
            } else {
                gsap.timeline()
                    .to(element, { 
                        duration: 0.5, 
                        y: -30, 
                        rotation: 360, 
                        scale: 1.2,
                        ease: "back.out(1.7)" 
                    })
                    .to(element, { 
                        duration: 0.5, 
                        y: 0, 
                        rotation: 720, 
                        scale: 1,
                        ease: "bounce.out" 
                    })
                    .repeat(-1);
                container.classList.add('playing');
                gsapAnimationActive = true;
            }
        }

        function resetGSAPAnimation() {
            const element = document.querySelector('.gsap-animation-element');
            const container = document.querySelector('.gsap-animation-demo').parentElement;
            gsap.killTweensOf(element);
            gsap.set(element, { clearProps: "all" });
            container.classList.remove('playing');
            gsapAnimationActive = false;
        }

        // Anime.js Animation Functions
        function toggleAnimeAnimation() {
            const element = document.querySelector('.anime-animation-element');
            const container = document.querySelector('.anime-animation-demo').parentElement;
            
            if (animeAnimationActive) {
                anime.remove(element);
                container.classList.remove('playing');
                animeAnimationActive = false;
            } else {
                anime({
                    targets: element,
                    translateY: [-50, 0],
                    rotate: [0, 360],
                    scale: [1, 1.5, 1],
                    duration: 2000,
                    easing: 'easeOutElastic(1, .8)',
                    loop: true,
                    direction: 'alternate'
                });
                container.classList.add('playing');
                animeAnimationActive = true;
            }
        }

        function resetAnimeAnimation() {
            const element = document.querySelector('.anime-animation-element');
            const container = document.querySelector('.anime-animation-demo').parentElement;
            anime.remove(element);
            anime.set(element, { translateY: 0, rotate: 0, scale: 1 });
            container.classList.remove('playing');
            animeAnimationActive = false;
        }

        // Three.js Animation Functions
        function initThreeJS() {
            const container = document.getElementById('threejs-container');
            const width = container.clientWidth;
            const height = container.clientHeight;

            // Create scene
            threeScene = new THREE.Scene();
            threeScene.background = new THREE.Color(0x000000);

            // Create camera
            threeCamera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            threeCamera.position.z = 5;

            // Create renderer
            threeRenderer = new THREE.WebGLRenderer({ antialias: true });
            threeRenderer.setSize(width, height);
            threeRenderer.setClearColor(0x000000);

            // Clear container and add renderer
            container.innerHTML = '';
            container.appendChild(threeRenderer.domElement);

            // Create cube
            const geometry = new THREE.BoxGeometry(2, 2, 2);
            const material = new THREE.MeshBasicMaterial({ 
                color: 0xdc3545,
                wireframe: true 
            });
            threeCube = new THREE.Mesh(geometry, material);
            threeScene.add(threeCube);

            // Add lights
            const ambientLight = new THREE.AmbientLight(0x404040);
            threeScene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(1, 1, 1);
            threeScene.add(directionalLight);
        }

        function animateThreeJS() {
            if (!threeJSAnimationActive) return;
            
            requestAnimationFrame(animateThreeJS);
            
            threeCube.rotation.x += 0.01;
            threeCube.rotation.y += 0.01;
            threeCube.rotation.z += 0.005;
            
            threeRenderer.render(threeScene, threeCamera);
        }

        function toggleThreeJSAnimation() {
            const container = document.querySelector('.threejs-animation-demo').parentElement;
            
            if (threeJSAnimationActive) {
                threeJSAnimationActive = false;
                container.classList.remove('playing');
            } else {
                if (!threeScene) {
                    initThreeJS();
                }
                threeJSAnimationActive = true;
                container.classList.add('playing');
                animateThreeJS();
            }
        }

        function resetThreeJSAnimation() {
            const container = document.querySelector('.threejs-animation-demo').parentElement;
            threeJSAnimationActive = false;
            container.classList.remove('playing');
            
            if (threeCube) {
                threeCube.rotation.set(0, 0, 0);
                threeRenderer.render(threeScene, threeCamera);
            }
        }

        // Canvas Animation Functions
        function initCanvas() {
            const canvas = document.getElementById('canvas-animation');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            canvasCtx = canvas.getContext('2d');
            
            // Set canvas background
            canvasCtx.fillStyle = '#17a2b8';
            canvasCtx.fillRect(0, 0, canvas.width, canvas.height);
        }

        function animateCanvas() {
            if (!canvasAnimationActive) return;
            
            const canvas = document.getElementById('canvas-animation');
            const time = Date.now() * 0.001;
            
            // Clear canvas
            canvasCtx.fillStyle = '#17a2b8';
            canvasCtx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw animated circles
            for (let i = 0; i < 5; i++) {
                const x = canvas.width / 2 + Math.sin(time + i) * 50;
                const y = canvas.height / 2 + Math.cos(time + i) * 30;
                const radius = 10 + Math.sin(time * 2 + i) * 5;
                
                canvasCtx.beginPath();
                canvasCtx.arc(x, y, radius, 0, Math.PI * 2);
                canvasCtx.fillStyle = `hsl(${180 + i * 30}, 70%, 60%)`;
                canvasCtx.fill();
            }
            
            requestAnimationFrame(animateCanvas);
        }

        function toggleCanvasAnimation() {
            const container = document.querySelector('.canvas-animation-demo').parentElement;
            
            if (canvasAnimationActive) {
                canvasAnimationActive = false;
                container.classList.remove('playing');
            } else {
                if (!canvasCtx) {
                    initCanvas();
                }
                canvasAnimationActive = true;
                container.classList.add('playing');
                animateCanvas();
            }
        }

        function resetCanvasAnimation() {
            const container = document.querySelector('.canvas-animation-demo').parentElement;
            canvasAnimationActive = false;
            container.classList.remove('playing');
            
            if (canvasCtx) {
                const canvas = document.getElementById('canvas-animation');
                canvasCtx.fillStyle = '#17a2b8';
                canvasCtx.fillRect(0, 0, canvas.width, canvas.height);
            }
        }

        // Lottie Comparison Functions
        function toggleLottieComparison() {
            if (lottieComparisonActive) {
                if (lottieComparisonAnimation) {
                    lottieComparisonAnimation.pause();
                }
                lottieComparisonActive = false;
                document.querySelector('.lottie-comparison-demo').parentElement.classList.remove('playing');
            } else {
                if (lottieComparisonAnimation) {
                    lottieComparisonAnimation.play();
                }
                lottieComparisonActive = true;
                document.querySelector('.lottie-comparison-demo').parentElement.classList.add('playing');
            }
        }

        function resetLottieComparison() {
            if (lottieComparisonAnimation) {
                lottieComparisonAnimation.goToAndPlay(0);
            }
            lottieComparisonActive = true;
            document.querySelector('.lottie-comparison-demo').parentElement.classList.add('playing');
        }

        // Original Lottie functions
        function playAllAnimations() {
            if (window.sceneAnimation) window.sceneAnimation.play();
            if (window.showreelAnimation) window.showreelAnimation.play();
            if (window.sceneAnimation2) window.sceneAnimation2.play();
        }

        function pauseAllAnimations() {
            if (window.sceneAnimation) window.sceneAnimation.pause();
            if (window.showreelAnimation) window.showreelAnimation.pause();
            if (window.sceneAnimation2) window.sceneAnimation2.pause();
        }

        function toggleShowreel() {
            if (window.showreelAnimation) {
                if (window.showreelAnimation.isPaused) {
                    window.showreelAnimation.play();
                } else {
                    window.showreelAnimation.pause();
                }
            }
        }

        function restartShowreel() {
            if (window.showreelAnimation) {
                window.showreelAnimation.goToAndPlay(0);
            }
        }

        function toggleScene() {
            if (window.sceneAnimation2) {
                if (window.sceneAnimation2.isPaused) {
                    window.sceneAnimation2.play();
                } else {
                    window.sceneAnimation2.pause();
                }
            }
        }

        function restartScene() {
            if (window.sceneAnimation2) {
                window.sceneAnimation2.goToAndPlay(0);
            }
        }

        function showCode(type) {
            const codeExamples = {
                playPause: `// Play/Pause animation
function toggleAnimation() {
    if (animation.isPaused) {
        animation.play();
    } else {
        animation.pause();
    }
}`,
                restart: `// Restart animation
function restartAnimation() {
    animation.goToAndPlay(0);
}`,
                intersection: `// Intersection Observer
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            animation.play();
        } else {
            animation.pause();
        }
    });
}, { threshold: 0.3 });

observer.observe(container);`
            };

            document.getElementById('codeExample').textContent = codeExamples[type];
            new bootstrap.Modal(document.getElementById('codeModal')).show();
        }

        // Initialize all animations when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize additional scene animation
            setTimeout(() => {
                if (window.lottie) {
                    const sceneContainer2 = document.getElementById('lottie-scene-2');
                    if (sceneContainer2) {
                        window.sceneAnimation2 = window.lottie.loadAnimation({
                            container: sceneContainer2,
                            renderer: 'svg',
                            loop: true,
                            autoplay: true,
                            path: '../assets/Scene.json'
                        });
                    }

                    // Initialize Lottie comparison animation
                    const lottieComparisonContainer = document.getElementById('lottie-comparison');
                    if (lottieComparisonContainer) {
                        lottieComparisonAnimation = window.lottie.loadAnimation({
                            container: lottieComparisonContainer,
                            renderer: 'svg',
                            loop: true,
                            autoplay: false,
                            path: '../assets/Showreel-Grid-Mobile.json'
                        });
                    }
                }
            }, 1000);

            // Initialize canvas
            initCanvas();
        });

        // Handle window resize for Three.js and Canvas
        window.addEventListener('resize', function() {
            if (threeRenderer && threeCamera) {
                const container = document.getElementById('threejs-container');
                const width = container.clientWidth;
                const height = container.clientHeight;
                
                threeCamera.aspect = width / height;
                threeCamera.updateProjectionMatrix();
                threeRenderer.setSize(width, height);
            }
            
            if (canvasCtx) {
                initCanvas();
            }
        });
    </script>
</body>
</html>
